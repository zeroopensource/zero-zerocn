{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "env",
  "description": "Constant exposing environment variables",
  "dependencies": [
    "@zeroopensource/zero-cli@latest",
    "dotenv",
    "dotenv-expand",
    "zod"
  ],
  "registryDependencies": [
    "https://zerocn.zeroopensource.org/r/zero-schema.json"
  ],
  "files": [
    {
      "path": "src/registry/new-york/items/env/env.ts",
      "content": "import path from \"node:path\";\r\nimport { createEnv as createNextEnv } from \"@t3-oss/env-nextjs\";\r\nimport { config } from \"dotenv\";\r\nimport { expand } from \"dotenv-expand\";\r\nimport type { z } from \"zod\";\r\nimport { ZeroSchema } from \"@/lib/zero-schema\";\r\n\r\n/** Customize envSchema fields to include, If using next customize NEXTENV */\r\nexport const envSchema = ZeroSchema.pick({\r\n  NODE_ENV: true,\r\n  PORT: true,\r\n  LOG_LEVEL: true,\r\n  DATABASE_URL: true,\r\n  DATABASE_AUTH_TOKEN: true,\r\n  BETTER_AUTH_URL: true,\r\n  BETTER_AUTH_SECRET: true,\r\n});\r\n/** https://github.com/t3-oss/t3-env */\r\nexport const NEXTENV = createNextEnv({\r\n  server: {},\r\n  client: {},\r\n  shared: {\r\n    NODE_ENV: ZeroSchema.shape.NODE_ENV,\r\n    PORT: ZeroSchema.shape.PORT,\r\n  },\r\n  runtimeEnv: {\r\n    // biome-ignore lint/style/noProcessEnv: Intentional\r\n    NODE_ENV: process.env.NODE_ENV,\r\n    // biome-ignore lint/style/noProcessEnv: Intentional\r\n    PORT: process.env.PORT,\r\n  },\r\n});\r\n\r\nexpand(\r\n  config({\r\n    path: path.resolve(\r\n      process.cwd(),\r\n      // biome-ignore lint/style/noProcessEnv: Intentional\r\n      process.env.NODE_ENV === \"test\" ? \".env.test\" : \".env\"\r\n    ),\r\n  })\r\n);\r\nexport type env = z.infer<typeof envSchema>;\r\n// biome-ignore lint/style/noProcessEnv: Intentional\r\nconst { data, error } = envSchema.safeParse(process.env);\r\nif (error) {\r\n  // biome-ignore lint/suspicious/noConsole: Intentional\r\n  console.error(\"‚ùå Invalid env:\");\r\n  // biome-ignore lint/suspicious/noConsole: Intentional\r\n  console.error(JSON.stringify(error.flatten().fieldErrors, null, 2));\r\n  process.exit(1);\r\n}\r\n// biome-ignore lint/style/noNonNullAssertion: Intentional\r\nexport const ENV = data!;\r\n",
      "type": "registry:lib"
    }
  ],
  "type": "registry:component"
}